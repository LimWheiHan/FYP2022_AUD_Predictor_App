<!doctype html>
<html>
	<head>
	<!-- Bootstrap CSS -->
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
		<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
		<title>AUD Test Text Classifier</title>
	</head>

	<body>
	<!-- Java Script -->	
		<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
		<!--Using Chart.js Added chart https://www.youtube.com/watch?v=E2hytuQvLlE-->>
		<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js"></script>

		
		<!-- Navbar-->
		<nav class="navbar navbar-dark bg-dark">
			<span class="navbar-brand mb-0 h1">AUD Test Text Classifier</span>
			<a href="{{ url_for('about') }}">About</a>
		</nav>
		<div class="container">
			<br>
			<!--Form-->
			<form action = "{{url_for('predict')}}" method ="POST" >
				<fieldset>
				<legend>AUD Test Text Classifier Form</legend><br>
				  <div class="card card-body" >
					  <div class="form-group">
						<div class="col-sm-10">
							
							<label for="post_text">Sample Post</label>
							<textarea class="form-control"  rows = "8" name="post_text"  placeholder="{{ default_text}}" required></textarea>

							
						</div>
						
					  </div>
					  <br>
					  <div class="form-group">
						<input class="btn btn-primary" type="submit" value="Result">
					  </div>
					  
					  <!--Prediction Result-->
					  <div id ="result">
							<h3 style="color:red">Results</h3>
							<strong style="color:red">{{ result }}</strong>
							<strong style="color:red">Average Sentence Prediction Score : {{ avgPrediction }}</strong>
							<strong style="color:red">Average Sentence Subjectivity : {{ avgSubjectivity }}</strong>
					  </div>

					 <!--Show tokens with highest explanatory power-->
					 <div class="form-group">
						<div class="col-sm-10">
							
							<label for="post_text">Highest Coefficient Words</label>
							<textarea class="form-control" rows="8" >Words with highest coefficient here!
{{ explanatory_words }}
							</textarea>

							
						</div>
						
					  </div>
				    </div> <!--Card Body End-->
			 </fieldset>
			</form>
			<h1>Plotly Feature Coefficient Visualisations</h1>
			<div id='chart' class='chart'â€></div>
			<script src='https://cdn.plot.ly/plotly-latest.min.js'></script>
			<script type='text/javascript'>
				var graphs = {{graphJSON | safe}};
				Plotly.plot('chart',graphs,{});
			</script>

			<center>
				<img src="/img/" alt="Text Analysis">
			</center>
		</div>
		
	</body>
</html>